import{_ as C,m as V,a as B,v as e}from"./app-f6c8tVfx.js";import{C as D,S as b}from"./CourseSchedule-JycJJyNd.js";const x={name:"DetailGroup",components:{CourseSchedule:D,StudyProgram:b},data(){return{tab:"lessons"}},computed:{...V("teacher",{group:"getGroup",courseSchoolDays:"getCourseSchoolDay",groupSchoolDays:"getGroupSchoolDay",getDisciples:"getDisciples",getTeachers:"getTeachers",attendances:"getAttendances"}),headers(){return[{title:"",align:"left",key:"order",width:"100px",fixed:!0,sortable:!1,divider:!0},{title:"Уроки",align:"left",key:"lessons",fixed:!0,sortable:!1,divider:!0}]},teachers(){let t=[];for(const n in this.getTeachers)t.push({title:this.getTeachers[n].name??"-"});return t},disciples(){let t=[];for(const n in this.getDisciples)t.push({title:this.getDisciples[n].name??"-"});return t}},methods:{...B("teacher",["actRequestGroup"]),lessons(t){if(t){let n=[];for(const a in t)n.push(1+parseInt(a)+". "+t[a].name);return n.join("; ")}else return""},groupSchoolDay(t,n){var a,d;return(d=(a=this.groupSchoolDays)==null?void 0:a[t])==null?void 0:d[n]},attendance(t){return this.attendances.indexOf(t)>-1}},created(){this.actRequestGroup(this.$route.params.id)}},S={class:"tw-flex tw-justify-between"},N=e.createElementVNode("br",null,null,-1),E={class:"tw-border tw-rounded tw-border-[rgba(221,218,218,0.49)] tw-mt-2 tw-p-2"},T={class:"tw-flex tw-justify-between"},G=["onClick"],F={class:"tw-text-[12px]"},L=["onClick"],I={class:"tw-text-[lightskyblue]",style:{"border-bottom":"1px dashed lightskyblue",cursor:"pointer"}},j=e.createElementVNode("h2",null,"Учителя",-1),q={key:0},A={key:1},R=e.createElementVNode("h2",null,"Ученики",-1),U={key:2},O={key:3};function P(t,n,a,d,c,s){const p=e.resolveComponent("v-tab"),h=e.resolveComponent("v-tabs"),g=e.resolveComponent("v-card-title"),_=e.resolveComponent("v-divider"),u=e.resolveComponent("v-chip"),y=e.resolveComponent("v-data-table"),m=e.resolveComponent("v-window-item"),k=e.resolveComponent("v-window"),v=e.resolveComponent("v-card-text"),f=e.resolveComponent("v-card");return e.openBlock(),e.createBlock(f,null,{default:e.withCtx(()=>[e.createVNode(g,null,{default:e.withCtx(()=>{var o,l,r,i;return[e.createElementVNode("div",S,[e.createElementVNode("div",null,[e.createTextVNode('Группа "'+e.toDisplayString((l=(o=t.group)==null?void 0:o.group)==null?void 0:l.name)+'". ',1),N,e.createTextVNode('Курс "'+e.toDisplayString((i=(r=t.group)==null?void 0:r.course)==null?void 0:i.name)+'"',1)])]),e.createVNode(h,{modelValue:c.tab,"onUpdate:modelValue":n[0]||(n[0]=w=>c.tab=w),"bg-color":""},{default:e.withCtx(()=>[e.createVNode(p,{value:"lessons"},{default:e.withCtx(()=>[e.createTextVNode("Уроки")]),_:1}),e.createVNode(p,{value:"group"},{default:e.withCtx(()=>[e.createTextVNode("Группа")]),_:1})]),_:1},8,["modelValue"])]}),_:1}),e.createVNode(_),e.createVNode(v,null,{default:e.withCtx(()=>[e.createVNode(k,{modelValue:c.tab,"onUpdate:modelValue":n[1]||(n[1]=o=>c.tab=o)},{default:e.withCtx(()=>[e.createVNode(m,{value:"lessons"},{default:e.withCtx(()=>[e.createVNode(y,{class:"table-sh",height:"800","fixed-header":"",density:"compact",items:t.courseSchoolDays,"items-per-page":"100",headers:s.headers,"hide-default-footer":!0,"disable-pagination":""},e.createSlots({bottom:e.withCtx(()=>[]),"item.order":e.withCtx(({item:o})=>[e.createElementVNode("span",F,e.toDisplayString(o.order)+". "+e.toDisplayString(s.groupSchoolDay(o.id,"date")??"-"),1)]),"item.lessons":e.withCtx(({item:o})=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.lessons??[],(l,r)=>(e.openBlock(),e.createElementBlock("div",{class:"tw-my-1",key:l.id,onClick:i=>t.$router.push({name:"TeacherLesson",params:{groupId:t.group.group.id,lessonId:l.id}})},[e.createElementVNode("span",I,e.toDisplayString(r+1)+". "+e.toDisplayString(l.name),1)],8,L))),128))]),"item.attendance":e.withCtx(({item:o})=>[s.groupSchoolDay(o.id,"date")?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[s.attendance(o.id)?(e.openBlock(),e.createBlock(u,{key:0,color:"secondary",density:"compact"},{default:e.withCtx(()=>[e.createTextVNode(" Присутств. ")]),_:1})):(e.openBlock(),e.createBlock(u,{key:1,color:"red",density:"compact"},{default:e.withCtx(()=>[e.createTextVNode(" Отсутств. ")]),_:1}))],64)):e.createCommentVNode("",!0)]),_:2},[t.$vuetify.display.sm?{name:"headers",fn:e.withCtx(()=>[]),key:"0"}:void 0,t.$vuetify.display.sm?{name:"item",fn:e.withCtx(({item:o,columns:l})=>[e.createElementVNode("div",E,[e.createElementVNode("div",T,[e.createTextVNode(e.toDisplayString(o.order)+". "+e.toDisplayString(s.groupSchoolDay(o.id,"date")??"-")+" ",1),s.groupSchoolDay(o.id,"date")?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[],64)):e.createCommentVNode("",!0)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.lessons,r=>(e.openBlock(),e.createElementBlock("div",{key:r.id,style:{color:"lightskyblue",margin:"5px 0"}},[e.createElementVNode("div",{style:{display:"inline-block","border-bottom":"1px dashed lightskyblue"},onClick:i=>t.$router.push({name:"TeacherLesson",params:{groupId:t.group.group.id,lessonId:r.id}})},e.toDisplayString(r.name),9,G)]))),128))])]),key:"1"}:void 0]),1032,["items","headers"])]),_:1}),e.createVNode(m,{value:"group"},{default:e.withCtx(()=>[j,t.getTeachers.length?(e.openBlock(),e.createElementBlock("div",q,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.getTeachers,o=>(e.openBlock(),e.createElementBlock("div",{key:o.id}," - "+e.toDisplayString(o.name)+" "+e.toDisplayString(o.patronymic)+" "+e.toDisplayString(o.surname),1))),128))])):(e.openBlock(),e.createElementBlock("div",A,"Нет учителей")),R,t.getDisciples.length?(e.openBlock(),e.createElementBlock("div",U,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.getDisciples,o=>(e.openBlock(),e.createElementBlock("div",null," - "+e.toDisplayString(o.name)+" "+e.toDisplayString(o.patronymic)+" "+e.toDisplayString(o.surname),1))),256))])):(e.openBlock(),e.createElementBlock("div",O,"Нет учеников"))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const H=C(x,[["render",P]]);export{H as default};
