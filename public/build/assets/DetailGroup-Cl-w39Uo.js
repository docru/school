import{_ as x,m as V,a as N,v as e}from"./app-D4g4NRDO.js";import{C as b,S as D}from"./CourseSchedule-CvpDRe0S.js";const B={name:"DetailGroup",components:{CourseSchedule:b,StudyProgram:D},data(){return{tab:"lessons"}},computed:{...V("teacher",{group:"getGroup",courseSchoolDays:"getCourseSchoolDay",groupSchoolDays:"getGroupSchoolDay",getDisciples:"getDisciples",getTeachers:"getTeachers",attendances:"getAttendances"}),headers(){return[{title:"",align:"left",key:"order",width:"100px",fixed:!0,sortable:!1,divider:!0},{title:"Уроки",align:"left",key:"lessons",fixed:!0,sortable:!1,divider:!0}]},teachers(){let t=[];for(const o in this.getTeachers)t.push({title:this.getTeachers[o].name??"-"});return t},disciples(){let t=[];for(const o in this.getDisciples)t.push({title:this.getDisciples[o].name??"-"});return t}},methods:{...N("teacher",["actRequestGroup"]),lessons(t){if(t){let o=[];for(const r in t)o.push(1+parseInt(r)+". "+t[r].name);return o.join("; ")}else return""},groupSchoolDay(t,o){var r,i;return(i=(r=this.groupSchoolDays)==null?void 0:r[t])==null?void 0:i[o]},attendance(t){return this.attendances.indexOf(t)>-1}},created(){this.actRequestGroup(this.$route.params.id)}},S={class:"tw-flex tw-justify-between"},E={class:"tw-text-[12px]"},T=["onClick"],G={class:"tw-text-[lightskyblue]",style:{"border-bottom":"1px dashed lightskyblue",cursor:"pointer"}},I=e.createElementVNode("h3",null,"Учителя",-1),j={key:1},q=e.createElementVNode("h3",null,"Ученики",-1),A={key:3};function F(t,o,r,i,l,s){const p=e.resolveComponent("v-tab"),_=e.resolveComponent("v-tabs"),v=e.resolveComponent("v-card-title"),g=e.resolveComponent("v-divider"),u=e.resolveComponent("v-chip"),y=e.resolveComponent("v-data-table"),m=e.resolveComponent("v-window-item"),h=e.resolveComponent("v-list"),k=e.resolveComponent("v-window"),f=e.resolveComponent("v-card-text"),C=e.resolveComponent("v-card");return e.openBlock(),e.createBlock(C,null,{default:e.withCtx(()=>[e.createVNode(v,null,{default:e.withCtx(()=>{var n,a,c,d;return[e.createElementVNode("div",S,[e.createElementVNode("div",null,'Группа "'+e.toDisplayString((a=(n=t.group)==null?void 0:n.group)==null?void 0:a.name)+'". Курс "'+e.toDisplayString((d=(c=t.group)==null?void 0:c.course)==null?void 0:d.name)+'"',1)]),e.createVNode(_,{modelValue:l.tab,"onUpdate:modelValue":o[0]||(o[0]=w=>l.tab=w),"bg-color":""},{default:e.withCtx(()=>[e.createVNode(p,{value:"lessons"},{default:e.withCtx(()=>[e.createTextVNode("Уроки")]),_:1}),e.createVNode(p,{value:"group"},{default:e.withCtx(()=>[e.createTextVNode("Группа")]),_:1})]),_:1},8,["modelValue"])]}),_:1}),e.createVNode(g),e.createVNode(f,null,{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.attendances)+" ",1),e.createVNode(k,{modelValue:l.tab,"onUpdate:modelValue":o[1]||(o[1]=n=>l.tab=n)},{default:e.withCtx(()=>[e.createVNode(m,{value:"lessons"},{default:e.withCtx(()=>[e.createVNode(y,{class:"table-sh",height:"800","fixed-header":"",density:"compact",items:t.courseSchoolDays,headers:s.headers,"hide-default-footer":!0,"disable-pagination":""},{"item.order":e.withCtx(({item:n})=>[e.createElementVNode("span",E,e.toDisplayString(s.groupSchoolDay(n.id,"date")??"-"),1)]),"item.lessons":e.withCtx(({item:n})=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.lessons??[],(a,c)=>(e.openBlock(),e.createElementBlock("div",{class:"tw-my-1",key:a.id,onClick:d=>t.$router.push({name:"TeacherLesson",params:{groupId:t.group.group.id,lessonId:a.id}})},[e.createElementVNode("span",G,e.toDisplayString(c+1)+". "+e.toDisplayString(a.name),1)],8,T))),128))]),"item.attendance":e.withCtx(({item:n})=>[s.groupSchoolDay(n.id,"date")?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[s.attendance(n.id)?(e.openBlock(),e.createBlock(u,{key:0,color:"secondary",density:"compact"},{default:e.withCtx(()=>[e.createTextVNode(" Присутствовал ")]),_:1})):(e.openBlock(),e.createBlock(u,{key:1,color:"red",density:"compact"},{default:e.withCtx(()=>[e.createTextVNode(" Отсутствовал ")]),_:1}))],64)):e.createCommentVNode("",!0)]),_:1},8,["items","headers"])]),_:1}),e.createVNode(m,{value:"group"},{default:e.withCtx(()=>[I,s.teachers.length?(e.openBlock(),e.createBlock(h,{key:0,items:s.teachers,density:"compact"},null,8,["items"])):(e.openBlock(),e.createElementBlock("div",j,"Нет учителей")),q,s.disciples.length?(e.openBlock(),e.createBlock(h,{key:2,items:s.disciples,density:"compact"},null,8,["items"])):(e.openBlock(),e.createElementBlock("div",A,"Нет учеников"))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const U=x(B,[["render",F]]);export{U as default};
